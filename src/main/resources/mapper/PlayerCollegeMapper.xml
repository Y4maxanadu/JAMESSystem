<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.james.system.mapper.PlayerCollegeMapper">

    <!-- 结果映射 -->
    <resultMap id="BaseResultMap" type="com.james.system.entity.PlayerCollege">
        <id column="id" property="id"/>
        <result column="player_id" property="playerId"/>
        <result column="college_name" property="collegeName"/>
    </resultMap>

    <!-- 根据球员ID查询 -->
    <select id="selectByPlayerId" resultMap="BaseResultMap">
        SELECT id, player_id, college_name
        FROM player_colleges
        WHERE player_id = #{playerId}
    </select>

    <!-- 根据大学名称查询 -->
    <select id="selectByCollegeName" resultMap="BaseResultMap">
        SELECT id, player_id, college_name
        FROM player_colleges
        WHERE college_name = #{collegeName}
    </select>

    <!-- 新增 -->
    <insert id="insert" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO player_colleges (player_id, college_name)
        VALUES (#{playerId}, #{collegeName})
    </insert>

    <!-- 删除 -->
    <delete id="deleteById">
        DELETE FROM player_colleges WHERE id = #{id}
    </delete>

    <!-- 根据球员ID删除 -->
    <delete id="deleteByPlayerId">
        DELETE FROM player_colleges WHERE player_id = #{playerId}
    </delete>

</mapper>
